# Managed by Ansible - Do not edit manually

# Basic configuration
Port {{ ssh_port | default(22) }}
AddressFamily {{ ssh_address_family | default('inet') }}
ListenAddress {{ ssh_listen_address | default('0.0.0.0') }}

# Authentication
Protocol 2
PermitRootLogin no
PasswordAuthentication no
PermitEmptyPasswords no
PubkeyAuthentication yes
AuthorizedKeysFile .ssh/authorized_keys

# Security
StrictModes yes
MaxAuthTries 3
LoginGraceTime 30s
MaxStartups 3:50:10

# Logging
SyslogFacility AUTH
LogLevel INFO

# Ciphers and Algorithms
Ciphers {{ ssh_ciphers | default('chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com') }}
MACs {{ ssh_macs | default('hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com') }}
KexAlgorithms {{ ssh_kex_algorithms | default('curve25519-sha256@libssh.org,diffie-hellman-group-exchange-sha256') }}

# Additional Security
AllowAgentForwarding no
AllowTcpForwarding no
X11Forwarding no
PrintMotd no
PrintLastLog yes
TCPKeepAlive no
ClientAliveInterval 300
ClientAliveCountMax 2
UseDNS no
Compression no
